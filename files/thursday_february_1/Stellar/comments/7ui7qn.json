[{"kind": "Listing", "data": {"after": null, "whitelist_status": "all_ads", "modhash": "", "dist": 1, "children": [{"kind": "t3", "data": {"domain": "self.Stellar", "approved_at_utc": null, "mod_reason_by": null, "banned_by": null, "subreddit_id": "t5_2t9ha", "thumbnail_width": null, "subreddit": "Stellar", "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi, not sure if folks here can answer a developer question, but I thought I&amp;#39;d give it a shot.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m a big Stellar fan, and currently building an application using the Stellar API in which I grant an asset based on an external event with a unique identifier.  I currently do so and keep track of the created transaction in my own database so that I can verify that the asset is granted only once per external event.&lt;/p&gt;\n\n&lt;p&gt;The problem I&amp;#39;m trying to solve, however, is making the system not have to rely on the database record of the transaction to avoid duplication.  For example, the database can fail; or a network failure might cause the transaction to be posted to Stellar but not verified &amp;amp; recorded in the app; and there can be race conditions of multiple clients trying to post the event at the same time.  I&amp;#39;d like for the de-duplication to be enforced at the ledger level rather than in my application logic, using the application database only as a cache.&lt;/p&gt;\n\n&lt;p&gt;It would be possible of course to read back every single transaction from the Stellar account before submitting a new one, but this would be tedious and prohibitively time consuming to do on every transaction.  What I&amp;#39;d ideally like to do is have a unique identifier that is hashed from the external event ID, and have the Stellar ledger reject the transaction if it&amp;#39;s a duplicate.  I don&amp;#39;t see any functionality like this in the docs, however.&lt;/p&gt;\n\n&lt;p&gt;What is the correct strategy here to let the application retry the transaction, but guarantee not to create a duplicate?  How is this type of problem normally solved on the Stellar network?  &lt;/p&gt;\n\n&lt;p&gt;Thanks!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "selftext": "Hi, not sure if folks here can answer a developer question, but I thought I'd give it a shot.\n\nI'm a big Stellar fan, and currently building an application using the Stellar API in which I grant an asset based on an external event with a unique identifier.  I currently do so and keep track of the created transaction in my own database so that I can verify that the asset is granted only once per external event.\n\nThe problem I'm trying to solve, however, is making the system not have to rely on the database record of the transaction to avoid duplication.  For example, the database can fail; or a network failure might cause the transaction to be posted to Stellar but not verified &amp; recorded in the app; and there can be race conditions of multiple clients trying to post the event at the same time.  I'd like for the de-duplication to be enforced at the ledger level rather than in my application logic, using the application database only as a cache.\n\nIt would be possible of course to read back every single transaction from the Stellar account before submitting a new one, but this would be tedious and prohibitively time consuming to do on every transaction.  What I'd ideally like to do is have a unique identifier that is hashed from the external event ID, and have the Stellar ledger reject the transaction if it's a duplicate.  I don't see any functionality like this in the docs, however.\n\nWhat is the correct strategy here to let the application retry the transaction, but guarantee not to create a duplicate?  How is this type of problem normally solved on the Stellar network?  \n\nThanks!", "likes": null, "suggested_sort": null, "mod_note": null, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "link_flair_text": null, "id": "7ui7qn", "banned_at_utc": null, "mod_reason_title": null, "view_count": null, "archived": false, "clicked": false, "report_reasons": null, "author": "tzigane", "num_crossposts": 0, "saved": false, "can_mod_post": false, "is_crosspostable": false, "pinned": false, "score": 2, "approved_by": null, "over_18": false, "removal_reason": null, "hidden": false, "num_comments": 1, "thumbnail": "self", "hide_score": true, "edited": false, "link_flair_css_class": null, "author_flair_css_class": null, "contest_mode": false, "gilded": 0, "locked": false, "downs": 0, "brand_safe": true, "secure_media_embed": {}, "media_embed": {}, "can_gild": false, "thumbnail_height": null, "parent_whitelist_status": "all_ads", "name": "t3_7ui7qn", "spoiler": false, "permalink": "/r/Stellar/comments/7ui7qn/stellar_api_question_deduping_transactions/", "subreddit_type": "public", "whitelist_status": "all_ads", "stickied": false, "created": 1517514600.0, "url": "https://www.reddit.com/r/Stellar/comments/7ui7qn/stellar_api_question_deduping_transactions/", "author_flair_text": null, "quarantine": false, "title": "Stellar API question: de-duping transactions", "created_utc": 1517485800.0, "subreddit_name_prefixed": "r/Stellar", "distinguished": null, "media": null, "upvote_ratio": 1.0, "mod_reports": [], "is_self": true, "visited": false, "num_reports": null, "is_video": false, "ups": 2}}], "before": null}}, {"kind": "Listing", "data": {"after": null, "whitelist_status": "all_ads", "modhash": "", "dist": null, "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2t9ha", "approved_at_utc": null, "mod_reason_by": null, "banned_by": null, "removal_reason": null, "link_id": "t3_7ui7qn", "likes": null, "replies": "", "user_reports": [], "saved": false, "id": "dtkgnna", "banned_at_utc": null, "mod_reason_title": null, "gilded": 0, "archived": false, "report_reasons": null, "author": "krakerjaak", "can_mod_post": false, "ups": 1, "parent_id": "t3_7ui7qn", "score": 1, "approved_by": null, "downs": 0, "body": "Looks like an excellent question for the Stellar Stack Exchange! \n\nhttps://stellar.stackexchange.com/", "edited": false, "author_flair_css_class": null, "collapsed": false, "is_submitter": false, "collapsed_reason": null, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Looks like an excellent question for the Stellar Stack Exchange! &lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://stellar.stackexchange.com/\"&gt;https://stellar.stackexchange.com/&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;", "stickied": false, "subreddit_type": "public", "can_gild": true, "subreddit": "Stellar", "score_hidden": false, "permalink": "/r/Stellar/comments/7ui7qn/stellar_api_question_deduping_transactions/dtkgnna/", "num_reports": null, "name": "t1_dtkgnna", "created": 1517516505.0, "author_flair_text": null, "created_utc": 1517487705.0, "subreddit_name_prefixed": "r/Stellar", "controversiality": 0, "depth": 0, "mod_reports": [], "mod_note": null, "distinguished": null}}], "before": null}}]